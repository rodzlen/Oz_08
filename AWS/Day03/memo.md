가용성?
일반적으로 연간 가동 시간의 백분율로 표현 예 99.99% 가용성 - 1년중에 50분은 못씀
서비스의 관점에서 바라봐야 
    정상 운영 시간 (up time)
A = --------
    전체 운영시간 

Up : 서버가 정상 동작 중이면 Up

Available : up 상태에서 서비스도 응답을 한다

Reliable : up상태에 서비스도 기대한 대로 응답



가용성 향상 기술 
- 로드 밸런싱
  - 로드 밸런싱이란? 
  - 로드 밸런서 (부하 분산기) - 서버가 하나 터지면 다른곳도 부하가 걸려 장애전파가 됨
  - aws에서는 elastic load balancer가 수행 자동으로 
    - 트래픽을 보낼 상황 파악이 중요 
    - l3, l4, l7 프로토콜이 다름 

- 자동 스케일링
  - 스케일을 늘려준다. ec2 늘려주기
- 데이터 복제
  - 현재 리소스가 정상적으로 되지 않더라도 다른 리소스를 복제해서 올려놓음 (백업)
- 장애조치(Fail over) 구성 
  - a로 가는 트래픽이 정상이 아니면 b로 접근 조치 구성 하는 예


SLA : EC2가 성능이 어느정도 떨어지게 되면 서비스 환불 해줌 그런 계약 
SLO : 서비스 수준 목표 99.99%의 기대치 
SLI : 서비스의 성능이나 품질을 측정하는 지표 
Ex) Pulse of Netflix

Error Budget



RTO / RPO 
RTO : 복구 시간 목표 

RPO : 복구 시점 목표 , 데이터 관점


Scalability 
수직적 , 수평적 

Resiliency 
회복 탄력성 
빠르게 복구하고 지속적으로 기능할 수 있는 능력 

disaster?
신뢰성 관점에서 재해 발생 지점

인프라, 플랫폼, 코드, (사람, 프로세스 그리고 관습) 90%

클라우드 환경에서의 재해 

예방 
대비 : 관측성 (시스템의 내부동작을 위한 이해)
    1. 로깅
    2. 매트릭 : 시스템 성능과 수치를 바라보는 데이터 
    3. 트레이싱 : 분산시스템에서 요청의 전체 경로를 추적 
대응
  - 이미 생긴 문제 시점 
복구
  - 정상적인 상태로 
완화
  - 사후 분석 5why Post-mortem
    장애가 특정 상황에서 반복적으로 발생 
    why ? 트래픽이 급증할 때 웹 서버가 죽는다
    why ? 오토스케일링이 잘 안된다
    why ? 되기는 하는데 AS로 만들어진 리소스가 트래픽을 제대로 못받음
    why ? conf 가 잘못 되어있었음 

Storage 
서버가 있으면 컴퓨팅 리소스가 있다.
용량 
 - 컴퓨터 데이터 저장 , 기록매체로 구성된 기술
용량 단위 10진
IB  - 정확한 표현을 위해 
KiB : 키비바이트 = 2^10 byte

스토리지 제조업체, 네트워크 속도에서 사용 gb
gib 운영체제, 메모리에서 사용 

performance metrics 
iops 초당 입출력 작업 수
처리량 : 단위 시간당 데이터 전송량
지연시간: 요청부터 응답까지의 시간

storage 3종류
file storage
-  데이터를 file형태로 저장하고 이를 디렉토리 내에서 조직화 하는 스토리지 

  -  계층적 구조 (hierarchy): 폴더와 하위 폴더를 사용한 트리구조
  -  메타데이터 : 파일이름, 생성 날짜, 수정 날짜, 권한 등의 정보 포함
  -  파일 레벨 접근  : 개별 파일 단위로 데이터 접근 및 관리
주차장 예시 - 백화점 주차장 (섹션, 열 > 행 > 위치 > 내차)

Block Storage 
- 데이터를 균일한 크기의 블록으로 분할하여 저장하는 스토리지 시스템
  - 고정 크기 블록 : 일반적으로 512바이트 또는 4kb크기 
  - 낮은 레벨 스토리지 : 운영 체제가 직접 관리
  - 고유 주소 : 각 블록은 고유한 식별자를 가짐
  - 빠른성능 : 직접적인 데이터 접근으로 높은 성능 제공
주차장 예시 - 에버랜드, 휴게소 

Object Storage 
- 데이터를 객체 형태로 저장하는 관리하는 스토리지 아키텍처 (객체)
  - 데이터 : 실제 저장되는 콘텐츠 
  - 메타데이터 : 객체에 대한 추가정보
  - 고유 식별자 : 각 객체를 식별하는 유일한 주소
  - 평면구조: 계층적 구조 대신 평면적 주소 공간 사용
  - 확장성 : 페타바이트 이상의 데이터 저장 가능
  - RESTful API : http 기반의 api를 통한 접근
주차장 예시 - 주차타워 

Connection type
das nas san 
das - direct attached Storage 
- 직접 또는 서버에 직접 연결된 스토리지 장치
  - 직접 연결
  - 전용 엑세스 : 연결된 시스템만 스토리지 접근 가능
nas - network attached Storage
- 네트워크에 직접 연결되어 파일 기반 데이터 저장 및 검색 서비스를 제공하는 스토리지 장치

san - Storage area network
서버와 스토리지 장치를 연결하는 전용 고속 네트워크 
- 블록 레벨 액세스 운영체제 직접 관리 로우 스토리지 제공
- 중앙 제어 방식

aws file storage Amazon Elastic File System
ebs elastic block storage 
das 연결 방식