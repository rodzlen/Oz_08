# Day 02
클라이언트와 서버의 버전 및 상태를 확인하는 명령어
- docker version 
플러그인, 시스템 상세 정보를 확인하는 명령어
- docker info

컨테이너 실행 절차
1. 도커를 설치하여 host os 사용
2. CLI에 입력하면 실행 API에 맞게 만들어 도커 데몬으로 전달
3. 도커 데몬은 API를 분석하여 컨테이너 런타임을 통해 컨테이너를 생성
4. 그렇게 해서 로컬호스트(설정에 따라 달라짐)에서 nginx process에 요청과 응답으로 통신

CPU, memory, Network, Disk가 커널 안에 있지만 완전히 격리된 공간에서 실행됨

서버의 구성 
- 하드웨어 : 물리적 컴퓨터
- host Os : 소프트웨어가 하드웨어 리소스를 사용하는 필수 기능을 제공
- 소프트웨어 : 일반적으로 특정 패키지나 라이브러리에 의존성을 가지고 있음 실행시키기 위해서 런타임 언어를 설치해야 하는 경우도 있음 의존 요소를 config ex- 자바 


## 이미지
- 특정 시점의 파일시스템(디렉토리)을 저장한 압축 파일 백업 파일이나 스냅샷 보다 용량이 작음 

프로그램과 프로세스의 차이 
- 프로그램 : 프로세스가 파일 형태로 존재 디스크 용량만 점유 
- 프로세스 : 프로그램을 실행시키면 프로세스 실행 Memory, CPU 점유

이미지와 컨테이너도 비슷한 관계

이미지 실행 명령어 
```
docker -d --name{컨테이너 명} 이미지명 
```
-d 옵션은 백그라운드에서 실행되며 터미널을 점ㅓ유하며 로그를 띄우지 않는다
(demon의 약자) 
```
docker ps
```
실행중인 컨테이너를 확인할 수 있다. ps는 process의 준말
```
docker rm -f
```
rm만으로는 실행중인 컨테이너를 삭제할 수 없다. -f를 붙이면 실행중인 컨테이너도 삭제 가능 
## 이미지 메타데이터
메타데이터란 데이터에 대한 데이터를 의미
- id
- size
- repotags
- env (환경설정 값) = 을 기준으로 키와 값으로 이루어져 있음 버전, 파일경로 등 
- cmd 이미지를 컨테이너로 실행할 때의 명령어 
```python
# 이미지의 세부 정보 조회
docker image inspect 이미지명 

# 컨테이너의 세부 정보 조회 
docker container inspect 컨테이너명

# 컨테이너 실행시 메타데이터의 cmd 덮어쓰기 
docker run 이미지명 (실행명령)

# 컨테이너 실행 시 메타데이터의 env 덮어쓰기 
docker run --env KEY = VALUE 이미지명

```

### 환경변수 덮어쓰기 
- env color application 사용

## 컨테이너 생명주기 
0. 이미지에서 시작
1. created 생성단계 내부에서 프로세스를 실행하지 않음 -> start -> running 실행 상태로됨 
    - run 명령은 create와 start가 합쳐짐 
2. restart 명령을 보내면 10초 뒤에 재시작 
    - pause 일시정지 상태 가능 
    - unpause 일시정지 해제 
    - 종료 가능
3. 삭제 rm으로 모든 상태에서 삭제 가능 실행중은 -f 붙여서 

```
docker logs -f 컨테이너명
```
-f 옵션으로 터미널에 계속해서 실행 됨

